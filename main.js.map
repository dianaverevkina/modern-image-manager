{"version":3,"file":"main.js","mappings":"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","sources":["webpack://modern-image-manager/./src/js/ImagesContainer.js","webpack://modern-image-manager/./src/js/ImageWidget.js","webpack://modern-image-manager/./src/js/app.js","webpack://modern-image-manager/./src/index.js"],"sourcesContent":["export default class ImagesContainer {\n  constructor(container) {\n    if (typeof container === 'string') {\n      this.container = document.querySelector(container);\n    }\n\n    this.deleteImg = this.deleteImg.bind(this);\n\n    this.container.addEventListener('click', this.deleteImg);\n  }\n\n  // Удаляем изображение\n  deleteImg(e) {\n    const { target } = e;\n    const imgDelete = target.closest('.item__delete');\n\n    if (!imgDelete) return;\n\n    const imgEl = imgDelete.closest('.item');\n    imgEl.remove();\n  }\n\n  // Создаем элемент картинки\n  renderImgElement(link, name) {\n    const imgEl = document.createElement('div');\n    imgEl.classList.add('images__item', 'item');\n    imgEl.innerHTML = `\n      <div class=\"item__img\">\n        <img src=${link} alt=${name} class=\"item__img-picture\">\n      </div>\n      <div class=\"item__delete\">\n        <img src=\"./images/cross.jpg\" alt=\"cross-icon\" class=\"item__cross\">\n      </div>\n    `;\n\n    return imgEl;\n  }\n\n  // Добавляем картинку\n  addImage(link, name) {\n    const imgElement = this.renderImgElement(link, name);\n    const img = imgElement.querySelector('.item__img-picture');\n\n    img.addEventListener('load', () => {\n      this.container.append(imgElement);\n    });\n    img.addEventListener('error', this.showError);\n  }\n\n  showError() {\n    alert('Не удалось загрузить изображение');\n  }\n}\n","import ImagesContainer from './ImagesContainer';\n\nexport default class ImageWidget {\n  constructor(container) {\n    if (typeof container === 'string') {\n      this.container = document.querySelector(container);\n    }\n\n    this.fileContainer = this.container.querySelector('.file-container');\n    this.containerContent = this.fileContainer.querySelector('.file-container__content');\n    this.btnAddFile = this.fileContainer.querySelector('.btn-add');\n    this.input = this.fileContainer.querySelector('.file-container__input');\n\n    this.imagesContainer = new ImagesContainer('.images__container');\n\n    this.addEvents();\n  }\n\n  // Добавляем обработчики событий\n  addEvents() {\n    this.fileContainer.addEventListener('dragover', (e) => {\n      e.preventDefault();\n      this.containerContent.classList.add('file-container__content_hovered');\n    });\n\n    this.fileContainer.addEventListener('dragleave', () => {\n      this.containerContent.classList.remove('file-container__content_hovered');\n    });\n\n    this.fileContainer.addEventListener('drop', (e) => {\n      e.preventDefault();\n      this.containerContent.classList.remove('file-container__content_hovered');\n      const { files } = e.dataTransfer;\n      this.loadImages(files);\n    });\n\n    this.btnAddFile.addEventListener('click', (e) => {\n      e.preventDefault();\n\n      this.input.value = '';\n      this.input.dispatchEvent(new MouseEvent('click'));\n    });\n\n    this.input.addEventListener('change', () => {\n      const { files } = this.input;\n      if (files.length === 0) return;\n      this.loadImages(files);\n    });\n  }\n\n  // Загружаем изображения\n  loadImages(files) {\n    [...files].forEach((file) => {\n      const link = URL.createObjectURL(file);\n      this.imagesContainer.addImage(link, file.name);\n    });\n  }\n}\n","import ImageWidget from './ImageWidget';\n\nconst widget = new ImageWidget('.widget');\nconsole.log(widget);\n","import './css/app.css';\nimport './js/app';\n"],"names":["ImagesContainer","constructor","container","document","querySelector","deleteImg","bind","addEventListener","e","target","imgDelete","closest","imgEl","remove","renderImgElement","link","name","createElement","classList","add","innerHTML","addImage","imgElement","img","append","showError","alert","ImageWidget","fileContainer","containerContent","btnAddFile","input","imagesContainer","addEvents","preventDefault","files","dataTransfer","loadImages","value","dispatchEvent","MouseEvent","length","forEach","file","URL","createObjectURL","widget","console","log"],"sourceRoot":""}